copied from https://github.com/oobabooga.
